(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"13b7":function(e,t,a){e.exports=a.p+"img/Spotify_logo_without_text.12e6a84c.svg"},2057:function(e,t,a){},2930:function(e,t,a){e.exports=a.p+"img/Audiohaven_logo_lightmode.7eb5d02c.svg"},"2efe":function(e,t,a){},"3da9":function(e,t,a){"use strict";a("2efe")},"43fa":function(e,t,a){e.exports=a.p+"img/Audiohaven_logo_darkmode.3a43a20e.svg"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2d26"),a("96cf");var r=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{style:e.cssProps,attrs:{id:"app"}},[e.$store.state.loggedIn?a("v-navigation-drawer",{attrs:{app:"",color:"primary"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",[a("v-list-item-group",[a("v-list-item",{staticClass:"mb-10 sideLink secondary--text",attrs:{to:"/"}},[a("v-icon",{attrs:{color:"purple",size:"36"}},[e._v("mdi-home")]),e._v("¬† Home ")],1),a("v-list-item",{staticClass:"mb-10 sideLink secondary--text",attrs:{to:"Spotify"}},[a("v-icon",{attrs:{color:"green",size:"36"}},[e._v("mdi-spotify")]),e._v("¬† Spotify ")],1)],1)],1)],1):e._e(),a("v-app-bar",{attrs:{app:"",color:"primary"}},[e.$store.state.loggedIn?a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}):e._e(),a("v-toolbar-title",[e._v("AudioHaven üõ† "+e._s(e.currentRouteName))]),a("v-spacer"),e.$store.state.loggedIn?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.toggleSystemBar()}}},[a("v-icon",[e._v("mdi-play-pause")])],1):e._e(),a("v-btn",{staticStyle:{"margin-right":"15px"},attrs:{icon:""},on:{click:function(t){return e.toggleDarkMode()}}},[a("v-icon",[e._v("mdi-theme-light-dark")])],1),e.$store.state.loggedIn?a("v-btn",{staticClass:"accent secondary--text",on:{click:function(t){return e.logout()}}},[e._v("Log Out")]):e._e()],1),a("v-main",[a("transition",{attrs:{mode:"out-in",name:"fade"}},[a("router-view")],1)],1),e.systemBar?a("SystemBar"):e._e()],1)},s=[],n=a("5530"),l=(a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("b0c0"),a("159b"),a("b64b"),a("2f62")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-system-bar",{staticStyle:{padding:"10px"},attrs:{app:"",height:"64"}},[e.systemBarMessage?a("h3",{staticClass:"secondary--text consoleFont"},[e._v(e._s(e.systemBarMessage))]):a("h3",{staticClass:"secondary--text consoleFont"},[e._v("Hello üëΩ")]),a("v-slider",{staticClass:"playbackSeekbar",attrs:{"append-icon":e.currentPlayerIcon,label:e.position+"/"+e.duration,max:e.seekbarMax,min:e.seekbarMin,value:e.seekbarPosition,"inverse-label":"",readonly:"","thumb-color":"secondary","thumb-label":"","track-color":"secondary","track-fill-color":"green"}}),a("v-item-group",{staticClass:"playbackButtons"},[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"darkgrey",size:"48"}},[e._v("mdi-skip-backward")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"green",size:"48"}},[e._v("mdi-play-pause")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"darkgrey",size:"48"}},[e._v("mdi-skip-forward")])],1)],1),a("v-icon",{attrs:{color:"green",size:"48"}},[e._v(e._s(e.currentPlayerIcon))])],1)},c=[],d={name:"SystemBar",data:function(){return{systemBarMessage:"",currentPlayerIcon:"mdi-spotify",position:"00:30",duration:"01:00",seekbarPosition:50,seekbarMin:0,seekbarMax:100}}},m=d,u=(a("3da9"),a("2877")),p=Object(u["a"])(m,i,c,!1,null,"f1da6e5c",null),f=p.exports,g={name:"App",components:{SystemBar:f},data:function(){return{drawer:!1,systemBar:!1}},created:function(){localStorage.getItem("audiohaven_token")?this.$store.commit("SET_LOGGED_IN_STATUS",!0):this.$store.commit("SET_LOGGED_IN_STATUS",!1)},mounted:function(){var e=localStorage.getItem("audiohaven_darkMode");e&&(this.$vuetify.theme.dark="true"===e)},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.replace("/")},toggleSystemBar:function(){this.systemBar=!this.systemBar},toggleDarkMode:function(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark,localStorage.setItem("audiohaven_darkMode",this.$vuetify.theme.dark.toString())}},computed:Object(n["a"])(Object(n["a"])({currentRouteName:function(){return this.$route.name}},Object(l["c"])(["loggedIn"])),{},{cssProps:function(){var e=this,t={};return!1===this.darkMode?Object.keys(this.$vuetify.theme.themes.light).forEach((function(a){t["--v-".concat(a)]=e.$vuetify.theme.themes.light[a]})):Object.keys(this.$vuetify.theme.themes.dark).forEach((function(a){t["--v-".concat(a)]=e.$vuetify.theme.themes.dark[a]})),t}})},v=g,y=(a("034f"),Object(u["a"])(v,o,s,!1,null,null,null)),h=y.exports,k=a("ce5b"),b=a.n(k),_=(a("bf40"),a("fcf4"));r["default"].use(b.a);var S={theme:{themes:{light:{primary:"#d9d7d5",secondary:"#3f4142",accent:{base:_["a"].purple.lighten2,lighter:_["a"].purple.lighten4,darker:_["a"].purple}},dark:{primary:"#3f4142",secondary:"#d9d7d5",accent:{base:_["a"].purple.darken2,lighter:_["a"].purple,darker:_["a"].purple.darken4}}}}},w=new b.a(S),x=a("8c4f"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-img",{attrs:{"lazy-src":this.photoSD,src:this.photoHD,height:"100%","max-height":"100%","max-width":"100%",width:"100%"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",lg:"6",md:"8",sm:"10",xl:"4"}},[a("v-item-group",{staticClass:"loginBox primary"},[e.loggedIn?a("div",[a("div",{staticClass:"d-flex flex-column"},[a("v-img",{staticClass:"align-self-center",attrs:{transition:"scale-transition",src:e.themedLogo(),width:"400"}})],1)]):a("div",{staticClass:"d-flex flex-column"},[a("v-img",{staticClass:"align-self-center",attrs:{transition:"scale-transition",src:e.themedLogo(),width:"350"}}),e.formToggle?a("div",{staticClass:"text-center"},[a("h3",{staticClass:"testText2 text-center text--primary"},[e._v("Please log in to start organising your music. ")]),a("p",{staticClass:"testText2 text-center text--primary"},[e._v(" Not a user yet? Why not sign up now!")]),a("br"),a("v-form",{model:{value:e.loginValid,callback:function(t){e.loginValid=t},expression:"loginValid"}},[a("v-text-field",{attrs:{rules:e.emailRules,color:"accent",filled:"",placeholder:"email",required:"",type:"email"},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email",t)},expression:"loginForm.email"}}),e.errors.email?a("small",{staticClass:"unselectable errorMessage"},[e._v(e._s(e.errors[0].email))]):e._e(),a("v-text-field",{attrs:{rules:e.passwordRules,color:"accent",filled:"",placeholder:"password",required:"",type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e.errors.password?a("small",{staticClass:"align-left unselectable errorMessage"},[e._v(e._s(e.errors.password[0]))]):e._e(),e.errors.message?a("small",{staticClass:"unselectable errorMessage"},[e._v(e._s(e.errors.message))]):e._e()],1),a("br"),a("v-btn",{staticClass:"text--secondary mr-2",attrs:{color:"primary",large:""},on:{click:function(t){return e.toggleForm()}}},[e._v("Register?")]),a("v-btn",{staticClass:"text--primary ml-2",attrs:{color:"accent",large:""},on:{click:function(t){return e.login(e.loginForm)}}},[e._v("Login")])],1):a("div",[a("h3",{staticClass:"testText2 text-center text--primary"},[e._v("Please register to start organising your music. ")]),a("br"),a("v-form",{model:{value:e.registerValid,callback:function(t){e.registerValid=t},expression:"registerValid"}},[a("v-text-field",{attrs:{rules:e.usernameRules,color:"accent",filled:"",placeholder:"username",required:"",type:"text"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}}),e.errors.username?a("small",{staticClass:"unselectable errorMessage"},[e._v(e._s(e.errors.name[0]))]):e._e(),a("v-text-field",{attrs:{rules:e.emailRules,color:"accent",filled:"",placeholder:"email",required:"",type:"email"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}}),e.errors.email?a("small",{staticClass:"unselectable errorMessage"},[e._v(e._s(e.errors.email[0]))]):e._e(),a("v-text-field",{attrs:{rules:e.passwordRules,color:"accent",filled:"",placeholder:"password",required:"",type:"password"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),e.errors.password?a("small",{staticClass:"unselectable errorMessage"},[e._v(e._s(e.errors.password[0]))]):e._e(),e.errors.message?a("small",{staticClass:"unselectable errorMessage"},[e._v(e._s(e.errors.message))]):e._e()],1),a("br"),a("v-btn",{staticClass:"text--secondary mr-2",attrs:{color:"primary",large:""},on:{click:function(t){return e.toggleForm()}}},[e._v("Login?")]),a("v-btn",{staticClass:"text--primary ml-2",attrs:{color:"accent",large:""},on:{click:function(t){return e.register(e.registerForm)}}},[e._v("Register ")])],1)],1)])],1)],1)],1)],1)},A=[],T=(a("00b4"),a("bc3a")),C=a.n(T),D=C.a.create({baseURL:"https://audiohaven-api.herokuapp.com"}),F={name:"Home",title:"Audiohaven | Home",components:{},data:function(){return{photoHD:"",photoSD:"",loginForm:{email:"",password:""},registerForm:{username:"",email:"",password:""},formToggle:!0,loginValid:!1,registerValid:!1,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=5||"Password must be more than 5 characters long"}],usernameRules:[function(e){return!!e||"Name is required"},function(e){return e.length>1||"Name must be more than 1 character long"}]}},mounted:function(){this.getBackgroundImage()},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])(["login","register"])),{},{randomInt:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},getBackgroundImage:function(){var e=this,t="code",a="https://api.pexels.com/v1/search?query=".concat(t,"&per_page=20&orientation=landscape"),r="563492ad6f91700001000001660dc6de6e62494da4a3601ccfc6ecc3";D.get(a,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){console.log("Pexels data: ",t.data);var a=e.randomInt(0,19);console.log("Random Photo Index: ",a),e.photoHD=t.data.photos[a].src.original,e.photoSD=t.data.photos[a].src.medium})).catch((function(e){return console.log("Pexels error: ",e)}))},toggleForm:function(){this.formToggle=!this.formToggle,this.$store.commit("SET_ERRORS","")},themedLogo:function(){return this.$vuetify.theme.dark?a("43fa"):a("2930")}}),computed:Object(n["a"])({},Object(l["c"])(["loggedIn","errors"]))},I=F,L=(a("89f1"),Object(u["a"])(I,P,A,!1,null,null,null)),M=L.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{style:e.cssProps,attrs:{fluid:""}},[a("v-container",[e.spotifyLoggedIn?e._e():a("div",[a("v-row",{staticClass:"mt-10 mb-10",attrs:{justify:"center"}},[a("v-img",{staticClass:"align-self-center",attrs:{src:e.spotifyLogo("text"),"max-width":"500px",transition:"scale-transition"}})],1),a("v-btn",{attrs:{href:e.serverBaseURL+"/spotify/login"}},[a("v-icon",[e._v("mdi-spotify")]),e._v(" Log-in to Spotify ")],1)],1)]),a("v-scale-transition",[e.spotifyLoggedIn?a("v-card",{staticClass:"mx-auto text-left",attrs:{"max-width":"344",outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"text-overline mb-4"},[e._v(" SPOTIFY PROFILE ")]),a("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" "+e._s(this.spotifyUserData.display_name)+" ")]),a("v-list-item-subtitle",[e._v(e._s(this.spotifyUserData.email))])],1),a("v-img",{attrs:{src:e.userProfilePic,color:"grey","max-height":"80","max-width":"80"}})],1),a("v-card-actions",[a("v-btn",{staticClass:"mr-1",attrs:{outlined:"",rounded:"",text:""},on:{click:function(t){return e.logoutSpotify()}}},[a("v-icon",[e._v("mdi-spotify")]),e._v(" Log Out ")],1)],1)],1):e._e()],1),a("v-snackbar",{attrs:{color:e.snackbarColour,app:"",rounded:"",text:"",timeout:"5000"},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[a("v-btn",e._b({attrs:{color:e.snackbarColour,icon:""},on:{click:function(t){e.displaySpotifyStatusMessage=!1}}},"v-btn",r,!1),[a("v-icon",{attrs:{color:e.snackbarColour}},[e._v("mdi-close")])],1)]}}]),model:{value:e.displaySpotifyStatusMessage,callback:function(t){e.displaySpotifyStatusMessage=t},expression:"displaySpotifyStatusMessage"}},[e._v(" "+e._s(e.spotifyStatusMessage)+" ")]),e.isLoading&&e.spotifyLoggedIn?a("div",[a("div",{staticClass:"lds-heart"},[a("div")]),a("div",[e._v("Loading... ("+e._s(e.refCount)+")")])]):e._e(),e.spotifyLoggedIn?a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"mt-4 mb-4",attrs:{justify:"center","no-gutters":""}},e._l(e.moduleContainers,(function(t){return a("v-col",{key:t.selectedModule,staticClass:"mt-4 mb-4",attrs:{cols:"12",lg:"8",md:"10"}},[a("v-card",[a("v-container",[a("v-select",{attrs:{items:e.availableModules,color:"accent","item-text":"label","item-value":"value",label:"Module Selector"},model:{value:t.selectedModule,callback:function(a){e.$set(t,"selectedModule",a)},expression:"moduleContainer.selectedModule"}})],1),"followedArtists"===t.selectedModule?a("v-container",{attrs:{fluid:""}},[e.spotifyLoggedIn?a("div",[a("h2",{staticClass:"ml-2 mb-3"},[e._v(" Artists You Follow ")]),a("v-card",[a("v-data-iterator",{staticClass:"pa-4",attrs:{items:e.followedArtistsData.followedArtists,"items-per-page":e.followedArtistsData.followedArtistsPerPage,page:e.followedArtistsData.followedArtistPage,search:e.followedArtistsData.followedArtistSearch,"sort-by":e.followedArtistsData.followedArtistSortBy.toLowerCase(),"sort-desc":e.followedArtistsData.followedArtistSortDesc,"hide-default-footer":""},on:{"update:itemsPerPage":function(t){return e.$set(e.followedArtistsData,"followedArtistsPerPage",t)},"update:items-per-page":function(t){return e.$set(e.followedArtistsData,"followedArtistsPerPage",t)},"update:page":function(t){return e.$set(e.followedArtistsData,"followedArtistPage",t)}},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-toolbar",{staticClass:"mb-1",attrs:{color:"accent",dark:""}},[a("v-text-field",{attrs:{clearable:"",flat:"","hide-details":"",label:"Search","prepend-inner-icon":"mdi-magnify","solo-inverted":""},model:{value:e.followedArtistsData.followedArtistSearch,callback:function(t){e.$set(e.followedArtistsData,"followedArtistSearch",t)},expression:"followedArtistsData.followedArtistSearch"}}),e.$vuetify.breakpoint.mdAndUp?[a("v-spacer"),a("v-select",{attrs:{items:e.followedArtistsData.followedArtistKeys,flat:"","hide-details":"","item-text":"text","item-value":"value",label:"Sort by","prepend-inner-icon":"mdi-magnify","solo-inverted":""},model:{value:e.followedArtistsData.followedArtistSortBy,callback:function(t){e.$set(e.followedArtistsData,"followedArtistSortBy",t)},expression:"followedArtistsData.followedArtistSortBy"}}),a("v-spacer"),a("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.followedArtistsData.followedArtistSortDesc,callback:function(t){e.$set(e.followedArtistsData,"followedArtistSortDesc",t)},expression:"followedArtistsData.followedArtistSortDesc"}},[a("v-btn",{attrs:{value:!1,color:"accent",depressed:"",large:""}},[a("v-icon",[e._v("mdi-arrow-up")])],1),a("v-btn",{attrs:{value:!0,color:"accent",depressed:"",large:""}},[a("v-icon",[e._v("mdi-arrow-down")])],1)],1)]:e._e()],2)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",e._l(t.items,(function(t){return a("v-col",{key:t.name,attrs:{cols:"12",lg:"3",md:"4",sm:"6"}},[a("v-card",[a("v-card-title",{staticClass:"subheading"},[e._v(" "+e._s(t.name)+" ")]),a("a",{attrs:{href:t.external_urls.spotify,target:"_blank"}},[a("v-img",{attrs:{"aspect-ratio":1,src:t.images[0].url}})],1),a("v-divider"),a("v-list",{attrs:{dense:""}},[a("v-list-item",[a("v-list-item-content",{class:{"purple--text":"popularity"===e.followedArtistsData.followedArtistSortBy}},[e._v(" Popularity: ")]),a("v-list-item-content",{staticClass:"justify-end",class:{"purple--text":"popularity"===e.followedArtistsData.followedArtistSortBy}},[e._v(" "+e._s(t.popularity)+" ")])],1),a("v-list-item",[a("v-list-item-content",{class:{"purple--text":"followers.total"===e.followedArtistsData.followedArtistSortBy}},[e._v(" Followers: ")]),a("v-list-item-content",{staticClass:"justify-end",class:{"purple--text":"followers.total"===e.followedArtistsData.followedArtistSortBy}},[e._v(" "+e._s(t.followers.total)+" ")])],1)],1)],1)],1)})),1)]}},{key:"footer",fn:function(){return[a("v-row",{staticClass:"mt-2 ml-2",attrs:{align:"center",justify:"center"}},[a("span",{staticClass:"grey--text"},[e._v("Artists per page")]),a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ml-2",attrs:{color:"accent",dark:"",text:""}},"v-btn",o,!1),r),[e._v(" "+e._s(e.followedArtistsData.followedArtistsPerPage)+" "),a("v-icon",[e._v("mdi-chevron-down")])],1)]}}],null,!0)},[a("v-list",e._l(e.followedArtistsData.followedArtistsPerPageArray,(function(t,r){return a("v-list-item",{key:r,on:{click:function(a){return e.updateFollowedArtistsPerPage(t)}}},[a("v-list-item-title",[e._v(e._s(t))])],1)})),1)],1),a("v-spacer"),a("span",{staticClass:"mr-4 grey--text"},[e._v(" Page "+e._s(e.followedArtistsData.followedArtistPage)+" of "+e._s(e.numberOfFollowedArtistPages)+" ")]),a("v-btn",{staticClass:"mr-1",attrs:{color:"purple darken-2",dark:"",fab:""},on:{click:e.formerFollowedArtistPage}},[a("v-icon",[e._v("mdi-chevron-left")])],1),a("v-btn",{staticClass:"ml-1 mr-2",attrs:{color:"purple darken-2",dark:"",fab:""},on:{click:e.nextFollowedArtistPage}},[a("v-icon",[e._v("mdi-chevron-right")])],1)],1)]},proxy:!0}],null,!0)})],1)],1):e._e()]):e._e(),"userPlaylists"===t.selectedModule?a("v-container",{attrs:{fluid:""}},[a("h2",{staticClass:"ml-2 mb-3"},[e._v(" Your Playlists ")]),a("v-card",[a("v-card-title",[0!==e.playlistLayer?a("v-btn",{staticClass:"mr-2",attrs:{icon:""},on:{click:function(t){return e.decrementPlaylistLayer()}}},[a("v-icon",[e._v("mdi-arrow-left")])],1):e._e(),a("v-text-field",{staticClass:"pr-8 mt-n3",attrs:{"append-icon":"mdi-magnify",clearable:"",color:"purple","hide-details":"",label:"Search","single-line":""},model:{value:e.playlistTable[e.playlistLayer].Search,callback:function(t){e.$set(e.playlistTable[e.playlistLayer],"Search",t)},expression:"playlistTable[playlistLayer].Search"}}),a("v-switch",{staticClass:"mb-n3",attrs:{color:"purple",label:"Single expand"},model:{value:e.playlistTable[e.playlistLayer].singleExpand,callback:function(t){e.$set(e.playlistTable[e.playlistLayer],"singleExpand",t)},expression:"playlistTable[playlistLayer].singleExpand"}})],1),e.isLoading?a("v-data-table",{attrs:{"item-key":e.playlistTable[e.playlistLayer].Headers[0].value,loading:"","loading-text":"Loading playlists... Please wait"}}):a("v-data-table",{attrs:{expanded:e.playlistTable[e.playlistLayer].Expanded,headers:e.playlistTable[e.playlistLayer].Headers,"item-key":e.playlistTable[e.playlistLayer].Headers[0].value,items:e.playlistTable[e.playlistLayer].Items,"items-per-page":5,search:e.playlistTable[e.playlistLayer].Search,"single-expand":e.playlistTable[e.playlistLayer].singleExpand,"sort-by":e.playlistTable[e.playlistLayer].Sort.toLowerCase(),"sort-desc":e.playlistTable[e.playlistLayer].SortDesc,"v-model":e.playlistTable[e.playlistLayer].Selected,"checkbox-color":"purple","expand-icon":"mdi-music","no-data-text":"No data! Are you signed in to Spotify?","no-results-text":"No results :C","show-expand":"","show-select":""},on:{"update:expanded":function(t){return e.$set(e.playlistTable[e.playlistLayer],"Expanded",t)}},scopedSlots:e._u([0===e.playlistLayer?{key:"item.name",fn:function(t){var r=t.item;return[a("v-btn",{staticClass:"text-capitalize",attrs:{text:""},on:{click:function(t){return e.getUserPlaylists(r)}}},[e._v(" "+e._s(r.name)+" ")])]}}:null,0===e.playlistLayer?{key:"item.tracks.total",fn:function(t){var r=t.item;return[a("v-chip",{attrs:{color:e.colorizeTableTracks(r.tracks.total),dark:""}},[e._v(" "+e._s(r.tracks.total)+" ")])]}}:null,0===e.playlistLayer?{key:"item.collaborative",fn:function(t){var r=t.item;return[a("v-chip",{attrs:{color:e.colorizeTableBooleans(r.collaborative),dark:""}},[e._v(" "+e._s(r.collaborative)+" ")])]}}:null,0===e.playlistLayer?{key:"item.public",fn:function(t){var r=t.item;return[a("v-chip",{attrs:{color:e.colorizeTableBooleans(r.public),dark:""}},[e._v(" "+e._s(r.public)+" ")])]}}:null,0===e.playlistLayer?{key:"item.delete",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{color:"red",icon:""},on:{click:function(t){return e.unfollowSpotifyPlaylist(r)}}},[a("v-icon",[e._v("mdi-delete")])],1)]}}:null,1===e.playlistLayer?{key:"item.track.name",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.queueSpotifyTrack(r)}}},[a("v-icon",[e._v("mdi-playlist-plus")])],1),a("a",{staticClass:"black--text text-decoration-none",attrs:{href:r.track.external_urls.spotify,target:"_blank"}},[a("v-btn",{staticClass:"text-capitalize",attrs:{text:""}},[e._v(" "+e._s(r.track.name)+" ")])],1)]}}:null,1===e.playlistLayer?{key:"item.track.artists[0].name",fn:function(t){var r=t.item;return[a("a",{staticClass:"black--text text-decoration-none",attrs:{href:r.track.artists[0].external_urls.spotify,target:"_blank"}},[a("v-btn",{staticClass:"text-capitalize",attrs:{text:""}},[e._v(" "+e._s(r.track.artists[0].name)+" ")])],1)]}}:null,1===e.playlistLayer?{key:"item.added_at",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.dateParser(a.added_at))+" ")]}}:null,1===e.playlistLayer?{key:"item.remove",fn:function(t){var r=t.item;return[a("v-btn",{attrs:{color:"red",icon:""},on:{click:function(t){return e.removeSpotifyPlaylistTrack(r,e.currentSpotifyPlaylist)}}},[a("v-icon",[e._v("mdi-delete")])],1)]}}:null,{key:"expanded-item",fn:function(t){var r=t.headers,o=t.item;return[a("td",{attrs:{colspan:r.length}},[0===e.playlistLayer?a("div",[e.spotifyEmbeds?a("v-row",[a("iframe",{attrs:{src:""+o.uri,allowtransparency:"true",frameborder:"0",height:"80",width:"500"}})]):e._e(),a("v-row",[o.images[0]?a("v-col",{attrs:{cols:"4"}},[a("a",{attrs:{href:o.external_urls.spotify,target:"_blank"}},[a("v-img",{staticClass:"ma-5",attrs:{src:o.images[0].url,"aspect-ratio":"1",width:"350"}})],1)]):a("v-col",[a("a",{attrs:{href:o.external_urls.spotify,target:"_blank"}},[e._v("Link to playlist")])]),o.description?a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"ma-5"},[a("v-card-text",[e._v(" "+e._s(o.description)+" ")])],1)],1):e._e(),a("v-col",{attrs:{cols:"2"}})],1)],1):a("div",[e.spotifyEmbeds?a("v-row",[a("iframe",{attrs:{src:""+o.track.uri,allowtransparency:"true",frameborder:"0",height:"80",width:"500"}})]):e._e(),a("v-row",[o.track.album.images[0].url?a("v-col",{attrs:{cols:"4"}},[a("a",{attrs:{href:o.track.preview_url,target:"_blank"}},[a("v-img",{staticClass:"ma-5",attrs:{src:o.track.album.images[0].url,"aspect-ratio":"1",width:"350"}})],1),o.track.preview_url?a("vuetify-audio",{attrs:{file:o.track.preview_url,color:"accent"}}):a("small",[e._v("Sorry, no preview available.")])],1):a("v-col",[a("a",{attrs:{href:o.track.preview_url,target:"_blank"}},[e._v("Link to playlist")])]),o.track.album.name?a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"ma-5"},[a("v-card-text",[a("small",[e._v("Album:")]),e._v(" "+e._s(o.track.album.name)+" "),a("br"),a("small",[e._v("Artist:")]),e._v(" "+e._s(o.track.artists[0].name)+" "),a("br"),a("small",[e._v("Track:")]),e._v(" "+e._s(o.track.name)+" ")])],1)],1):e._e(),a("v-col",{attrs:{cols:"2"}})],1)],1)])]}}],null,!0)})],1)],1):e._e(),"recommendationGenerator"===t.selectedModule?a("v-container",{attrs:{fluid:""}},[a("h2",{staticClass:"ml-2 mb-3"},[e._v(" Recommendations Generator ")]),a("v-divider"),a("p",{staticClass:"unselectable mb-2 mt-2"},[e._v("Required Parameters "),a("br"),a("small",[e._v("Choose at least one!")])]),a("v-divider"),a("v-row",{staticClass:"mb-3"},[a("v-col",{attrs:{cols:"0",md:"3"}}),a("v-col",{staticClass:"d-flex flex-row justify-center",attrs:{cols:"12",md:"6"}},[a("v-radio-group",{attrs:{row:e.recommenderRowBreakpoints},model:{value:e.recommendationsForm.requiredParams.artistSeedType,callback:function(t){e.$set(e.recommendationsForm.requiredParams,"artistSeedType",t)},expression:"recommendationsForm.requiredParams.artistSeedType"}},[a("v-radio",{attrs:{color:"accent",label:"Artist Search","off-icon":"mdi-magnify","on-icon":"mdi-magnify",value:"artistSearch"},on:{click:function(t){e.recommendationsForm.requiredParams.seed_artists=""}}},[e._v(" Artist Search ")]),a("v-radio",{attrs:{color:"accent",label:"Followed Artists","off-icon":"mdi-heart","on-icon":"mdi-heart",value:"followedArtists"},on:{click:function(t){e.recommendationsForm.requiredParams.seed_artists=""}}},[e._v(" Followed Artists ")])],1)],1),a("v-col",{attrs:{cols:"0",md:"3"}}),"followedArtists"===e.recommendationsForm.requiredParams.artistSeedType?a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{items:e.followedArtistsData.followedArtists,clearable:"",color:"accent","item-text":"name","item-value":"id",label:"Choose a followed artist!","no-data-text":"It seems you don't follow any artists... üôÅ",outlined:""},model:{value:e.recommendationsForm.requiredParams.seed_artists,callback:function(t){e.$set(e.recommendationsForm.requiredParams,"seed_artists",t)},expression:"recommendationsForm.requiredParams.seed_artists"}})],1):e._e(),"artistSearch"===e.recommendationsForm.requiredParams.artistSeedType?a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-text-field",{attrs:{clearable:"",color:"accent",label:"Search for an artist!",outlined:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.recommenderArtistSearch()}},model:{value:e.recommendationsForm.requiredParams.artistSearch,callback:function(t){e.$set(e.recommendationsForm.requiredParams,"artistSearch",t)},expression:"recommendationsForm.requiredParams.artistSearch"}}),a("v-btn",{attrs:{disabled:!e.recommendationsForm.requiredParams.artistSearch,color:"accent",height:"56",outlined:"","x-small":""},on:{click:function(t){return e.recommenderArtistSearch()}}},[a("v-icon",[e._v("mdi-magnify")])],1)],1)],1):e._e(),0!==e.recommendationsForm.requiredParams.artistOptions.length&&"artistSearch"===e.recommendationsForm.requiredParams.artistSeedType?a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{items:e.recommendationsForm.requiredParams.artistOptions,clearable:"",color:"accent","item-text":"name","item-value":"id",label:"Choose an artist!","no-data-text":"Nothing here! Did you search? ü§î",outlined:""},model:{value:e.recommendationsForm.requiredParams.seed_artists,callback:function(t){e.$set(e.recommendationsForm.requiredParams,"seed_artists",t)},expression:"recommendationsForm.requiredParams.seed_artists"}})],1):e._e(),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{items:e.recommendationsForm.requiredParams.genreOptions,clearable:"",color:"accent","item-text":"item","item-value":"id",label:"Choose a genre!","no-data-text":"We couldn't find any genres... This is on us, sorry! üôÅ",outlined:""},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[a("span",{staticClass:"text-capitalize"},[e._v(" "+e._s(r)+" ")])]}},{key:"selection",fn:function(t){var r=t.item;return[a("span",{staticClass:"text-capitalize"},[e._v(" "+e._s(r)+" ")])]}}],null,!0),model:{value:e.recommendationsForm.requiredParams.seed_genres,callback:function(t){e.$set(e.recommendationsForm.requiredParams,"seed_genres",t)},expression:"recommendationsForm.requiredParams.seed_genres"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-text-field",{attrs:{clearable:"",color:"accent",label:"Search for a track!",outlined:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.recommenderTrackSearch()}},model:{value:e.recommendationsForm.requiredParams.trackSearch,callback:function(t){e.$set(e.recommendationsForm.requiredParams,"trackSearch",t)},expression:"recommendationsForm.requiredParams.trackSearch"}}),a("v-btn",{attrs:{disabled:!e.recommendationsForm.requiredParams.trackSearch,color:"accent",height:"56",outlined:"","x-small":""},on:{click:function(t){return e.recommenderTrackSearch()}}},[a("v-icon",[e._v("mdi-magnify")])],1)],1)],1),0!==e.recommendationsForm.requiredParams.trackOptions.length?a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{items:e.recommendationsForm.requiredParams.trackOptions,clearable:"",color:"accent","item-text":"item","item-value":"id",label:"Choose a track!","no-data-text":"Nothing here! Did you search? ü§î",outlined:""},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[e._v(" '"+e._s(a.name)+"' (by "+e._s(a.artists[0].name)+") ")]}},{key:"selection",fn:function(t){var a=t.item;return[e._v(" '"+e._s(a.name)+"' (by "+e._s(a.artists[0].name)+") ")]}}],null,!0),model:{value:e.recommendationsForm.requiredParams.seed_tracks,callback:function(t){e.$set(e.recommendationsForm.requiredParams,"seed_tracks",t)},expression:"recommendationsForm.requiredParams.seed_tracks"}})],1):e._e(),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:e.recommendationsForm.optionalParams.limitOptions,color:"accent","item-text":"value","item-value":"value",label:"How many recommendations?",outlined:""},model:{value:e.recommendationsForm.optionalParams.limitSelected,callback:function(t){e.$set(e.recommendationsForm.optionalParams,"limitSelected",t)},expression:"recommendationsForm.optionalParams.limitSelected"}})],1)],1),a("v-divider"),a("p",{staticClass:"unselectable mb-2 mt-2"},[e._v("Optional Parameters")]),a("v-simple-checkbox",{attrs:{"off-icon":"mdi-chevron-up","on-icon":"mdi-chevron-down"},model:{value:e.recommendationsForm.optionalParamsEnabled,callback:function(t){e.$set(e.recommendationsForm,"optionalParamsEnabled",t)},expression:"recommendationsForm.optionalParamsEnabled"}}),a("v-divider"),e.recommendationsForm.optionalParamsEnabled?a("v-row",{staticClass:"justify-center",attrs:{dense:""}},[e._l(e.recommendationsForm.optionalParams.sliderParams,(function(t){return a("v-col",{key:t.param,class:e.sliderCheckboxBreakpoints,attrs:{cols:"12",lg:"2",md:"3",sm:"5"}},[a("v-checkbox",{staticClass:"text-capitalize",attrs:{label:t.label,"off-icon":t.icon,"on-icon":t.icon,color:"accent"},model:{value:t.enabled,callback:function(a){e.$set(t,"enabled",a)},expression:"slider.enabled"}})],1)})),e._l(e.recommendationsForm.optionalParams.specialSliders,(function(t){return a("v-col",{key:t.param,class:e.sliderCheckboxBreakpoints,attrs:{cols:"12",lg:"2",md:"3",sm:"5"}},[a("v-checkbox",{staticClass:"text-capitalize",attrs:{label:t.label,"off-icon":t.icon,"on-icon":t.icon,color:"accent"},model:{value:t.enabled,callback:function(a){e.$set(t,"enabled",a)},expression:"slider.enabled"}})],1)}))],2):e._e(),a("v-divider",{staticClass:"mb-15"}),e._l(e.recommendationsForm.optionalParams.sliderParams,(function(t){return a("v-row",{key:t.param},[t.enabled?a("v-col",{staticClass:"mt-n4",attrs:{cols:"1"}},[a("v-radio-group",{attrs:{dense:"",row:""},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"slider.type"}},[a("v-radio",{attrs:{color:"accent",label:"Equal",value:"target"}}),a("v-radio",{attrs:{color:"accent",label:"Min",value:"min"}}),a("v-radio",{attrs:{color:"accent",label:"Max",value:"max"}})],1)],1):e._e(),t.enabled?a("v-col",{attrs:{cols:"9"}},[a("v-slider",{staticClass:"ml-6 mr-n3",attrs:{"append-icon":t.icon,max:t.max,min:t.min,step:t.step,"thumb-color":"accent","thumb-label":"always",ticks:"always","track-color":"primary","track-fill-color":"green"},scopedSlots:e._u(["key"===t.param?{key:"thumb-label",fn:function(t){return[e._v(" "+e._s(e.keyDoctor(t.value))+" ")]}}:"acousticness"===t.param?{key:"thumb-label",fn:function(t){return[e._v(" "+e._s(e.percentageDoctor(t.value,1))+"% ")]}}:"danceability"===t.param?{key:"thumb-label",fn:function(t){return[e._v(" "+e._s(e.percentageDoctor(t.value,1))+"% ")]}}:"energy"===t.param?{key:"thumb-label",fn:function(t){return[e._v(" "+e._s(e.percentageDoctor(t.value,1))+"% ")]}}:"instrumentalness"===t.param?{key:"thumb-label",fn:function(t){return[e._v(" "+e._s(e.percentageDoctor(t.value,1))+"% ")]}}:"liveness"===t.param?{key:"thumb-label",fn:function(t){return[e._v(" "+e._s(e.percentageDoctor(t.value,1))+"% ")]}}:"loudness"===t.param?{key:"thumb-label",fn:function(t){return[e._v(" "+e._s(e.percentageDoctor(t.value,1))+"% ")]}}:"speechiness"===t.param?{key:"thumb-label",fn:function(t){return[e._v(" "+e._s(e.percentageDoctor(t.value,1))+"% ")]}}:"valence"===t.param?{key:"thumb-label",fn:function(t){return[e._v(" "+e._s(e.percentageDoctor(t.value,1))+"% ")]}}:"popularity"===t.param?{key:"thumb-label",fn:function(t){return[e._v(" "+e._s(e.percentageDoctor(t.value,100))+"% ")]}}:null],null,!0),model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"slider.value"}})],1):e._e(),t.enabled?a("v-col",{staticClass:"mt-1",attrs:{cols:"2"}},[a("p",{staticClass:"text-left"},[e._v(e._s(t.label))])]):e._e()],1)})),e._l(e.recommendationsForm.optionalParams.specialSliders,(function(t){return a("v-row",{key:t.param},[t.enabled?a("v-col",{staticClass:"mt-n4",attrs:{cols:"1"}},[a("v-radio-group",{attrs:{dense:"",row:""},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"slider.type"}},[a("v-radio",{attrs:{color:"accent",label:"Equal",value:"target"}}),a("v-radio",{attrs:{color:"accent",label:"Min",value:"min"}}),a("v-radio",{attrs:{color:"accent",label:"Max",value:"max"}})],1)],1):e._e(),t.enabled?a("v-col",{attrs:{cols:"9"}},[a("v-slider",{staticClass:"ml-6 mr-n3",attrs:{"append-icon":t.icon,max:t.max,min:t.min,step:t.step,"thumb-color":"accent","thumb-label":"always",ticks:"always","track-color":"primary","track-fill-color":"green"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"slider.value"}})],1):e._e(),t.enabled?a("v-col",{staticClass:"mt-1",attrs:{cols:"2"}},[a("p",{staticClass:"text-left"},[e._v(e._s(t.label))])]):e._e()],1)})),a("v-row",{staticClass:"mt-n5 mb-3"},[a("v-spacer"),e.recommendationsRequired?a("v-col",{attrs:{cols:"3",md:"3"}},[a("v-btn",{attrs:{block:"",color:"accent"},on:{click:function(t){return e.generateRecommendations(e.recommendationsForm)}}},[e._v(" Recommend! ")])],1):a("v-col",{attrs:{cols:"4",md:"4"}},[a("v-btn",{attrs:{block:"",color:"grey",disable:""}},[e._v(" I need more data! ")])],1),a("v-spacer"),0!==e.recommendationData.response.length?a("v-btn",{attrs:{color:"green"},on:{click:function(t){return e.createRecommendationsPlaylist()}}},[e._v(" Create Playlist ")]):e._e(),0!==e.recommendationData.response.length?a("v-spacer"):e._e()],1),e.newPlaylistURL?a("v-row",{staticClass:"justify-center mt-5 mb-5"},[a("p",[e._v("Your new playlist can be found "),a("a",{staticClass:"newPlaylistURL",attrs:{href:e.newPlaylistURL,target:"_blank"}},[e._v("here!")])])]):e._e(),e.recommendationData.response[0]?a("v-row",{staticClass:"justify-center"},[a("v-data-table",{attrs:{headers:e.recommendationData.headers,"item-key":e.recommendationData.response.id,items:e.recommendationData.response,"items-per-page":5,"calculate-widths":"","no-data-text":"No data!?","no-results-text":"No results :C"},scopedSlots:e._u([{key:"item.album.images[0].url",fn:function(t){var r=t.item;return[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.hover;return[a("v-card",{staticClass:"ml-n2 ma-2",attrs:{outlined:"",raised:""}},[a("v-img",{attrs:{src:r.album.images[0].url,"aspect-ratio":"1",width:"150"}}),a("v-fade-transition",[o?a("v-overlay",{attrs:{absolute:"",color:"#000"}},[r.preview_url?a("v-btn",{attrs:{icon:""},on:{click:function(t){t.preventDefault(),r.isPlaying?e.previewSpotifyTrack("pause",r):e.previewSpotifyTrack("play",r)}}},[a("audio",{attrs:{src:r.preview_url}},[e._v(" Your browser does not support the audio element. ")]),r.isPlaying?a("v-icon",[e._v("mdi-pause")]):a("v-icon",[e._v("mdi-play")])],1):a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"red"}},[e._v("mdi-cancel")])],1)],1):e._e()],1)],1)]}}],null,!0)})]}},{key:"item.name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.name)+" ")])]}},{key:"item.album.name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.album.external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.album.name)+" ")])]}},{key:"item.artists[0].name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.artists[0].external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.artists[0].name)+" ")])]}}],null,!0)})],1):e._e()],2):e._e(),"recentlyPlayed"===t.selectedModule?a("v-container",[a("h2",{staticClass:"ml-2 mb-3"},[e._v(" Your Recently Played Tracks ")]),a("v-data-table",{attrs:{headers:e.recentlyPlayedData.headers,items:e.recentlyPlayedData.tracks,"items-per-page":5,"calculate-widths":"","item-key":"track.id","no-data-text":"No data!?","no-results-text":"No results :C"},scopedSlots:e._u([{key:"item.track.album.images[0].url",fn:function(t){var r=t.item;return[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.hover;return[a("v-card",{staticClass:"ml-n2 ma-2",attrs:{"max-width":"75",outlined:"",raised:""}},[a("v-img",{attrs:{src:r.track.album.images[0].url,"aspect-ratio":"1",width:"75"}}),a("v-fade-transition",[o?a("v-overlay",{attrs:{absolute:"",color:"#000"}},[r.track.preview_url?a("v-btn",{attrs:{icon:""},on:{click:function(t){t.preventDefault(),r.isPlaying?e.previewSpotifyTrack("pause",r.track):e.previewSpotifyTrack("play",r.track)}}},[a("audio",{attrs:{src:r.track.preview_url}},[e._v(" Your browser does not support the audio element. ")]),r.track.isPlaying?a("v-icon",[e._v("mdi-pause")]):a("v-icon",[e._v("mdi-play")])],1):a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"red"}},[e._v("mdi-cancel")])],1)],1):e._e()],1)],1)]}}],null,!0)})]}},{key:"item.track.name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.track.external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.track.name)+" ")])]}},{key:"item.track.album.name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.track.album.external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.track.album.name)+" ")])]}},{key:"item.track.artists[0].name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.track.artists[0].external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.track.artists[0].name)+" ")])]}},{key:"item.played_at",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.dateParser(a.played_at))+" ")]}}],null,!0)})],1):e._e(),"savedTracks"===t.selectedModule?a("v-container",[a("h2",{staticClass:"ml-2 mb-3"},[e._v(" Your Saved Tracks ")]),a("v-data-table",{attrs:{headers:e.savedTracksData.headers,items:e.savedTracksData.tracks,"items-per-page":5,"calculate-widths":"","item-key":"id","no-data-text":"No data!?","no-results-text":"No results :C"},scopedSlots:e._u([{key:"item.track.album.images[0].url",fn:function(t){var r=t.item;return[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.hover;return[a("v-card",{staticClass:"ml-n2 ma-2",attrs:{"max-width":"75",outlined:"",raised:""}},[a("v-img",{attrs:{src:r.track.album.images[0].url,"aspect-ratio":"1",width:"75"}}),a("v-fade-transition",[o?a("v-overlay",{attrs:{absolute:"",color:"#000"}},[r.track.preview_url?a("v-btn",{attrs:{icon:""},on:{click:function(t){t.preventDefault(),r.isPlaying?e.previewSpotifyTrack("pause",r.track):e.previewSpotifyTrack("play",r.track)}}},[a("audio",{attrs:{src:r.track.preview_url}},[e._v(" Your browser does not support the audio element. ")]),r.track.isPlaying?a("v-icon",[e._v("mdi-pause")]):a("v-icon",[e._v("mdi-play")])],1):a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"red"}},[e._v("mdi-cancel")])],1)],1):e._e()],1)],1)]}}],null,!0)})]}},{key:"item.track.name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.track.external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.track.name)+" ")])]}},{key:"item.track.album.name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.track.album.external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.track.album.name)+" ")])]}},{key:"item.track.artists[0].name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.track.artists[0].external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.track.artists[0].name)+" ")])]}}],null,!0)})],1):e._e(),"topTracks"===t.selectedModule?a("v-container",[a("h2",{staticClass:"ml-2 mb-3"},[e._v(" Your Top Tracks ")]),a("v-data-table",{attrs:{headers:e.topTracksData.headers,items:e.topTracksData.tracks,"items-per-page":5,"calculate-widths":"","item-key":"id","no-data-text":"No data!?","no-results-text":"No results :C"},scopedSlots:e._u([{key:"item.album.images[0].url",fn:function(t){var r=t.item;return[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.hover;return[a("v-card",{staticClass:"ml-n2 ma-2",attrs:{"max-width":"75",outlined:"",raised:""}},[a("v-img",{attrs:{src:r.album.images[0].url,"aspect-ratio":"1",width:"75"}}),a("v-fade-transition",[o?a("v-overlay",{attrs:{absolute:"",color:"#000"}},[r.preview_url?a("v-btn",{attrs:{icon:""},on:{click:function(t){t.preventDefault(),r.isPlaying?e.previewSpotifyTrack("pause",r.track):e.previewSpotifyTrack("play",r.track)}}},[a("audio",{attrs:{src:r.preview_url}},[e._v(" Your browser does not support the audio element. ")]),r.isPlaying?a("v-icon",[e._v("mdi-pause")]):a("v-icon",[e._v("mdi-play")])],1):a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"red"}},[e._v("mdi-cancel")])],1)],1):e._e()],1)],1)]}}],null,!0)})]}},{key:"item.name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.name)+" ")])]}},{key:"item.album.name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.album.external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.album.name)+" ")])]}},{key:"item.artists[0].name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.artists[0].external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.artists[0].name)+" ")])]}}],null,!0)})],1):e._e(),"topArtists"===t.selectedModule?a("v-container",[a("h2",{staticClass:"ml-2 mb-3"},[e._v(" Your Top Artists ")]),a("v-data-table",{attrs:{headers:e.topArtistsData.headers,items:e.topArtistsData.artists,"items-per-page":5,"calculate-widths":"","item-key":"id","no-data-text":"No data!?","no-results-text":"No results :C"},scopedSlots:e._u([{key:"item.images[0].url",fn:function(e){var t=e.item;return[a("v-avatar",{staticClass:"ma-1",attrs:{size:"75"}},[a("v-img",{attrs:{src:t.images[0].url}})],1)]}},{key:"item.name",fn:function(t){var r=t.item;return[a("a",{staticClass:"text--primary text-decoration-none",attrs:{href:r.external_urls.spotify,target:"_blank"}},[e._v(" "+e._s(r.name)+" ")])]}}],null,!0)})],1):e._e()],1)],1)})),1)],1):e._e()],1)},R=[];a("3ca3"),a("ddb0"),a("4de4"),a("caad"),a("2532"),a("07ac"),a("99af"),a("a434"),a("fb6a");a("ed18").config();var E={name:"Spotify",title:"Audiohaven | Spotify Dashboard",components:{VuetifyAudio:function(){return a.e("chunk-2d0c9adc").then(a.bind(null,"59bd"))}},data:function(){return{serverBaseURL:"https://audiohaven-api.herokuapp.com",refCount:0,isLoading:!1,overlay:!1,displaySpotifyStatusMessage:!1,spotifyStatusMessage:"",snackbarColour:"purple darken-1",spotifyUserData:{},currentSpotifyPlaylist:null,spotifyEmbeds:!1,moduleContainers:[{selectedModule:this.firstModuleLocalStorage()},{selectedModule:this.secondModuleLocalStorage()},{selectedModule:this.thirdModuleLocalStorage()},{selectedModule:this.fourthModuleLocalStorage()}],modules:[{label:"Your Playlists",value:"userPlaylists"},{label:"Your Saved Tracks",value:"savedTracks"},{label:"Your Top Tracks",value:"topTracks"},{label:"Recently Played",value:"recentlyPlayed"},{label:"Artists You Follow",value:"followedArtists"},{label:"Your Top Artists",value:"topArtists"},{label:"Recommendation Generator",value:"recommendationGenerator"}],followedArtistsData:{followedArtistsPerPageArray:[4,8,12],followedArtistSearch:"",followedArtistFilter:{},followedArtistSortDesc:!1,followedArtistPage:1,followedArtistsPerPage:4,followedArtistSortBy:"name",followedArtistKeys:[{text:"Name",value:"name"},{text:"Popularity",value:"popularity"},{text:"Followers",value:"followers.total"}],followedArtists:[]},playlistLayer:0,playlistTable:[{Search:"",Sort:"tracks.total",SortDesc:!0,Headers:[{text:"ID",value:"id",align:" d-none"},{text:"Name",value:"name",align:"start",width:400},{text:"Tracks",value:"tracks.total"},{text:"Public",value:"public"},{text:"Collab",value:"collaborative"},{text:"Delete",value:"delete",sortable:!1}],Items:[],Selected:[],singleExpand:!0,Expanded:[]},{Search:"",Sort:"added_at",SortDesc:!0,Headers:[{text:"ID",value:"track.id",align:" d-none"},{text:"Title",value:"track.name",align:"start",width:300},{text:"Artist",value:"track.artists[0].name"},{text:"Added",value:"added_at",align:"right"},{text:"Remove",value:"remove",sortable:!1}],Items:[],Selected:[],singleExpand:!0,Expanded:[]}],recommendationsForm:{requiredParams:{seed_artists:"",artistSeedType:"artistSearch",artistSearch:"",artistOptions:[],seed_genres:"",genreOptions:[],seed_tracks:"",trackSearch:"",trackOptions:[]},optionalParamsEnabled:!1,optionalParams:{limitOptions:[{value:"1"},{value:"5"},{value:"25"},{value:"50"},{value:"100"}],limitSelected:"5",market:"",sliderParams:[{enabled:!1,label:"Acoustic",param:"acousticness",type:"target",value:null,icon:"mdi-guitar-acoustic",min:0,max:1,step:.1},{enabled:!1,label:"Danceable",param:"danceability",type:"target",value:null,icon:"mdi-human-female-dance",min:0,max:1,step:.1},{enabled:!1,label:"Energy",param:"energy",type:"target",value:null,icon:"mdi-flash",min:0,max:1,step:.1},{enabled:!1,label:"Instrumental",param:"instrumentalness",type:"target",value:null,icon:"mdi-instrument-triangle",min:0,max:1,step:.1},{enabled:!1,label:"Live",param:"liveness",type:"target",value:null,icon:"mdi-theater",min:0,max:1,step:.1},{enabled:!1,label:"Loud",param:"loudness",type:"target",value:null,icon:"mdi-volume-high",min:0,max:1,step:.1},{enabled:!1,label:"Speech",param:"speechiness",type:"target",value:null,icon:"mdi-account-voice",min:0,max:1,step:.1},{enabled:!1,label:"Uplifting",param:"valence",type:"target",value:null,icon:"mdi-emoticon-happy",min:0,max:1,step:.1},{enabled:!1,label:"Key",param:"key",type:"target",value:null,icon:"mdi-piano",min:0,max:11,step:1},{enabled:!1,label:"Popularity",param:"popularity",type:"target",value:null,icon:"mdi-star-face",min:0,max:100,step:10},{enabled:!1,label:"BPM",param:"tempo",type:"target",value:null,icon:"mdi-metronome",min:0,max:200,step:5}],specialSliders:[{enabled:!1,label:"Duration",param:"max_duration_ms",type:"target",value:null,icon:"mdi-timer-outline",min:0,max:60,step:5}]}},recommendationData:{headers:[{text:"Art",value:"album.images[0].url",align:"left",sortable:!1},{text:"Title",value:"name",align:"left"},{text:"Album",value:"album.name",align:"left"},{text:"Artist",value:"artists[0].name",align:"left"}],response:[],seeds:[],artistSeed:"",trackSeed:"",genreSeed:"",somethingIsPlaying:!1},newPlaylistURL:"",recentlyPlayedData:{headers:[{text:"Art",value:"track.album.images[0].url",align:"left",sortable:!1},{text:"Title",value:"track.name",align:"left"},{text:"Album",value:"track.album.name",align:"left"},{text:"Artist",value:"track.artists[0].name",align:"left"},{text:"When",value:"played_at",align:"left"}],tracks:[],when:[]},savedTracksData:{headers:[{text:"Art",value:"track.album.images[0].url",align:"left",sortable:!1},{text:"Title",value:"track.name",align:"left"},{text:"Album",value:"track.album.name",align:"left"},{text:"Artist",value:"track.artists[0].name",align:"left"}],tracks:[]},topTracksData:{headers:[{text:"Art",value:"album.images[0].url",align:"left",sortable:!1},{text:"Title",value:"name",align:"left"},{text:"Album",value:"album.name",align:"left"},{text:"Artist",value:"artists[0].name",align:"left"}],tracks:[]},topArtistsData:{headers:[{text:"Profile Picture",value:"images[0].url",align:"left",sortable:!1},{text:"Name",value:"name",align:"left"},{text:"Popularity",value:"popularity",align:"left"},{text:"Followers",value:"followers.total",align:"left"}],artists:[]}}},watch:{userPlaylistSelected:function(e){e?(console.log("userPlaylistSelected"),this.getUserPlaylists()):console.log("userPlaylistUnselected")},savedTracksSelected:function(e){e?(console.log("savedTracksSelected"),this.getSavedTracks()):console.log("savedTracksUnselected")},topTracksSelected:function(e){e?(console.log("topTracksSelected"),this.getTopTracks()):console.log("topTracksUnselected")},recentlyPlayedSelected:function(e){e?(console.log("recentlyPlayedSelected"),this.getRecentlyPlayed()):console.log("recentlyPlayedUnselected")},followedArtistsSelected:function(e){e?(console.log("followedArtistsSelected"),this.getFollowedArtists()):console.log("followedArtistsUnselected")},topArtistsSelected:function(e){e?(console.log("topArtistsSelected"),this.getTopArtists()):console.log("topArtistsUnselected")},recommendationGeneratorSelected:function(e){e?(console.log("recommendationGeneratorSelected"),this.getSpotifyGenres(),this.getFollowedArtists()):console.log("recommendationGeneratorUnselected")}},computed:Object(n["a"])(Object(n["a"])({},Object(l["c"])(["loggedIn","errors"])),{},{spotifyLoggedIn:function(){return!!localStorage.getItem("spotify_access_token")},userID:function(){return this.spotifyUserData.id?this.spotifyUserData.id:void 0},userProfilePic:function(){return void 0===this.spotifyUserData.images||0===this.spotifyUserData.images.length?"https://placekitten.com/80/80":this.spotifyUserData.images[0].url},userPlaylistSelected:function(){return this.selectedModulesHas("userPlaylists")},savedTracksSelected:function(){return this.selectedModulesHas("savedTracks")},topTracksSelected:function(){return this.selectedModulesHas("topTracks")},recentlyPlayedSelected:function(){return this.selectedModulesHas("recentlyPlayed")},followedArtistsSelected:function(){return this.selectedModulesHas("followedArtists")},topArtistsSelected:function(){return this.selectedModulesHas("topArtists")},recommendationGeneratorSelected:function(){return this.selectedModulesHas("recommendationGenerator")},availableModules:function(){var e=this;return this.modules.filter((function(t){return t.value!==e.moduleContainers[0].selectedModule&&t.value!==e.moduleContainers[1].selectedModule&&t.value!==e.moduleContainers[2].selectedModule&&t.value!==e.moduleContainers[3].selectedModule}))},selectedModules:function(){var e=this;return this.modules.filter((function(t){return t.value===e.moduleContainers[0].selectedModule||t.value===e.moduleContainers[1].selectedModule||t.value===e.moduleContainers[2].selectedModule||t.value===e.moduleContainers[3].selectedModule}))},numberOfFollowedArtistPages:function(){return Math.ceil(this.followedArtistsData.followedArtists.length/this.followedArtistsData.followedArtistsPerPage)},cssProps:function(){var e=this,t={},a=localStorage.getItem("audiohaven_darkMode");return!1===a?Object.keys(this.$vuetify.theme.themes.light).forEach((function(a){t["--v-".concat(a)]=e.$vuetify.theme.themes.light[a]})):Object.keys(this.$vuetify.theme.themes.dark).forEach((function(a){t["--v-".concat(a)]=e.$vuetify.theme.themes.dark[a]})),t},recommendationsRequired:function(){return!!(this.recommendationsForm.requiredParams.seed_artists||this.recommendationsForm.requiredParams.seed_genres||this.recommendationsForm.requiredParams.seed_tracks)},sliderCheckboxBreakpoints:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"d-flex justify-center";case"sm":return"mr-1 d-flex justify-center";case"md":return"mr-1 d-flex justify-center";case"lg":return"mr-2 d-flex justify-center";case"xl":return"mr-2 d-flex justify-center"}return""},recommenderRowBreakpoints:function(){switch(this.$vuetify.breakpoint.name){case"xs":return!1;case"sm":return!0;case"md":return!0;case"lg":return!0;case"xl":return!0}return!1}}),mounted:function(){this.checkAudiohavenLogin(),this.checkTokens(),this.getFollowedArtists(),this.getSpotifyGenres(),this.getUserData(),this.getRecentlyPlayed(),this.getSavedTracks(),this.getTopTracks(),this.getTopArtists()},created:function(){var e=this;C.a.interceptors.request.use((function(t){return e.setLoading(!0),t}),(function(t){return 401===t.response.status&&e.refreshSpotifyToken(),e.setLoading(!1),Promise.reject(t)})),C.a.interceptors.response.use((function(t){return e.setLoading(!1),t}),(function(t){return 401===t.response.status&&e.refreshSpotifyToken(),e.setLoading(!1),Promise.reject(t)}))},methods:{checkAudiohavenLogin:function(){this.loggedIn||(console.log("No no no.. Nice try though! üòâ"),U.push("/"))},moduleLabel:function(e){console.log(this.selectedModules);var t=this.selectedModules.filter((function(t){return t.value===e}));return console.log(t),t[0].label},selectedModulesHas:function(e){if(this.spotifyLoggedIn){this.moduleContainers.forEach((function(t,a){var r=Object.values(t).includes(e);r&&localStorage.setItem("selectedModule_".concat(a),e)}));var t=function(t){return t.value==="".concat(e)};return this.selectedModules.some(t)}},firstModuleLocalStorage:function(){if(localStorage.getItem("selectedModule_0")){var e=localStorage.getItem("selectedModule_0");return console.log("Module found in localStorage:",e),e}return console.log("No module found in localStorage!"),"userPlaylists"},secondModuleLocalStorage:function(){if(localStorage.getItem("selectedModule_1")){var e=localStorage.getItem("selectedModule_1");return console.log("Module found in localStorage:",e),e}return console.log("No module found in localStorage!"),"followedArtists"},thirdModuleLocalStorage:function(){if(localStorage.getItem("selectedModule_2")){var e=localStorage.getItem("selectedModule_2");return console.log("Module found in localStorage:",e),e}return console.log("No module found in localStorage!"),"recentlyPlayed"},fourthModuleLocalStorage:function(){if(localStorage.getItem("selectedModule_3")){var e=localStorage.getItem("selectedModule_3");return console.log("Module found in localStorage:",e),e}return console.log("No module found in localStorage!"),"recommendationGenerator"},setLoading:function(e){e?(this.refCount++,this.isLoading=!0):this.refCount>0&&(this.refCount--,this.isLoading=this.refCount>0)},setSnackbar:function(e,t){this.spotifyStatusMessage=e,this.snackbarColour=t,this.displaySpotifyStatusMessage=!0},spotifyLogo:function(e){return a("text"===e?"e3ab":"13b7")},nextFollowedArtistPage:function(){this.followedArtistsData.followedArtistPage+1<=this.numberOfFollowedArtistPages&&(this.followedArtistsData.followedArtistPage+=1)},formerFollowedArtistPage:function(){this.followedArtistsData.followedArtistPage-1>=1&&(this.followedArtistsData.followedArtistPage-=1)},updateFollowedArtistsPerPage:function(e){this.followedArtistsData.followedArtistsPerPage=e},colorizeTableTracks:function(e){return e>250?"purple":e>100?"purple darken-2":e<=100&&e>0?"purple darken-4":"#333"},colorizeTableBooleans:function(e){return e?"purple darken-4":"#333"},dateParser:function(e){var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())},checkTokens:function(){if(this.$route.query.access_token&&this.$route.query.refresh_token){var e=this.$route.query.access_token,t=this.$route.query.refresh_token;console.log("Tokens received through redirect URL!"),localStorage.setItem("spotify_access_token",e),localStorage.setItem("spotify_refresh_token",t),U.replace("/Spotify"),U.go(0)}},logoutSpotify:function(){localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.setItem("spotify_user_id",""),U.replace("/Spotify").catch((function(){})),U.go(0)},refreshSpotifyToken:function(){var e=this,t=this.serverBaseURL,a=localStorage.getItem("spotify_refresh_token");C.a.get("".concat(t,"/spotify/refresh_token?refresh_token=").concat(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log("refreshSpotifyToken() response: ",t.data),localStorage.setItem("spotify_access_token",t.data.access_token),e.getFollowedArtists(),e.getSpotifyGenres(),e.getUserData(),e.getRecentlyPlayed(),e.getSavedTracks(),e.getTopTracks(),e.getTopArtists()})).catch((function(t){console.log("refreshSpotifyToken() error caught: ",t),console.log("refreshSpotifyToken() error message: ",t.message),e.setSnackbar(t.message,"red")}))},getUserData:function(){var e=this;if(this.spotifyLoggedIn){var t=localStorage.getItem("spotify_access_token"),a="https://api.spotify.com/v1";C.a.get("".concat(a,"/me/"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("getUserData() response: ",t.data),e.spotifyUserData=t.data,e.getUserPlaylists(),e.setSnackbar("Welcome, ".concat(t.data.display_name,"! üëã"),"green")})).catch((function(t){console.log("getUserData() error caught: ",t),console.log("getUserData() error message: ",t.message),e.setSnackbar(t.message,"red")}))}},getFollowedArtists:function(){var e=this;if(this.spotifyLoggedIn&&this.followedArtistsSelected||this.recommendationGeneratorSelected){var t=localStorage.getItem("spotify_access_token"),a="https://api.spotify.com/v1";C.a.get("".concat(a,"/me/following?type=artist&limit=50"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("getFollowedArtists() response: ",t.data.artists.items),e.followedArtistsData.followedArtists=t.data.artists.items})).catch((function(t){console.log("getFollowedArtists() error caught: ",t),console.log("getFollowedArtists() error message: ",t.message),e.setSnackbar(t.message,"red")}))}},getUserPlaylists:function(e){var t=this;if(this.spotifyLoggedIn&&this.userPlaylistSelected){var a=localStorage.getItem("spotify_access_token"),r="https://api.spotify.com/v1";this.userID&&(e||(this.currentSpotifyPlaylist=null,C.a.get("".concat(r,"/users/").concat(this.userID,"/playlists?limit=50"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log("getUserPlaylists() response: ",e.data),t.playlistTable[0].Items=e.data.items})).catch((function(e){console.log("getUserPlaylists() error caught: ",e),console.log("getUserPlaylists() error message: ",e.message),t.setSnackbar(e.message,"red")}))),e&&(this.currentSpotifyPlaylist=e,C.a.get("".concat(r,"/playlists/").concat(e.id,"/tracks"),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log("getUserPlaylistTracks() response: ",e.data),t.playlistTable[1].Items=e.data.items,t.playlistLayer++})).catch((function(e){console.log("error caught: ",e),console.log("error message: ",e.message),t.setSnackbar(e.message,"red")}))))}},decrementPlaylistLayer:function(){this.playlistLayer=0,this.currentSpotifyPlaylist=null},queueSpotifyTrack:function(e){var t=this;console.log("queueSpotifyTrack(".concat(e.track.name,")"));var a=localStorage.getItem("spotify_access_token"),r="https://api.spotify.com/v1";C.a.post("".concat(r,"/me/player/queue?uri=spotify:track:").concat(e.track.id),{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(a){console.log("queueSpotifyTrack() SUCCESS! \n Response: ",a.data),t.setSnackbar("Successfully added ".concat(e.track.name," to queue"),"green")})).catch((function(e){console.log("playSpotifyTrack() error caught: ",e.response,"\n Message: ",e.response.data.error.message),t.setSnackbar("".concat(e.response.data.error.message,"..."),"red")}))},previewSpotifyTrack:function(e,t){"play"===e&&this.recommendationData.somethingIsPlaying&&(console.log("Got ".concat(e," signal, but something is already playing!")),console.log("Stopping any playing tracks!"),this.recommendationData.response.forEach((function(e){e.isPlaying&&(console.log("Stopping '".concat(e.name,"'!")),e.isPlaying=!1)})),console.log("Now playing '".concat(t.name,"'")),t.isPlaying=!0,this.recommendationData.somethingIsPlaying=!0),"play"!==e||this.recommendationData.somethingIsPlaying||(console.log("Got ".concat(e," signal, playing '").concat(t.name,"'")),t.isPlaying=!0,this.recommendationData.somethingIsPlaying=!0),"pause"===e&&(console.log("Got ".concat(e," signal, pausing '").concat(t.name,"'")),t.isPlaying=!1,this.recommendationData.somethingIsPlaying=!1)},unfollowSpotifyPlaylist:function(e){var t=this,a=this.playlistTable[0].Items.indexOf(e);if(confirm("Are you sure you want to unfollow ".concat(e.name,"?"))){console.log("Playlist '".concat(e.name,"' unfollow confirmed."));var r=localStorage.getItem("spotify_access_token"),o="https://api.spotify.com/v1";C.a.delete("".concat(o,"/playlists/").concat(e.id,"/followers"),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(r){console.log("unfollowSpotifyPlaylist() SUCCESS! \n Response: ",r.data),t.setSnackbar("Successfully unfollowed ".concat(e.name),"green"),t.playlistTable[0].Items.splice(a,1)})).catch((function(e){console.log("unfollowSpotifyPlaylist() error caught: ",e.response,"\n Message: ",e.response.data.error.message),t.setSnackbar("".concat(e.response.data.error.message,"..."),"red")}))}else console.log("Playlist '".concat(e.name,"' unfollow cancelled."))},removeSpotifyPlaylistTrack:function(e,t){var a=this;console.log("playlist: ",t,"\n","track: ",e);var r=this.playlistTable[1].Items.indexOf(e);if(confirm("Are you sure you want to remove ".concat(e.track.name," from ").concat(t.name,"?"))){console.log("Track '".concat(e.track.name,"' removal confirmed."));var o=localStorage.getItem("spotify_access_token"),s="https://api.spotify.com/v1";C.a.delete("".concat(s,"/playlists/").concat(t.id,"/tracks"),{headers:{Authorization:"Bearer ".concat(o)},data:{tracks:[{uri:"".concat(e.track.uri)}]}}).then((function(t){console.log("removeSpotifyPlaylistTrack() SUCCESS! \n Response: ",t.data),a.setSnackbar("Successfully removed ".concat(e.track.name),"green"),a.playlistTable[1].Items.splice(r,1)})).catch((function(e){console.log("removeSpotifyPlaylistTrack() error caught: ",e.response,"\n Message: ",e.response.data.error.message),a.setSnackbar("".concat(e.response.data.error.message,"..."),"red")}))}else console.log("Track '".concat(e.name,"' removal cancelled."))},getSpotifyGenres:function(){var e=this;if(this.spotifyLoggedIn&&this.recommendationGeneratorSelected){var t=localStorage.getItem("spotify_access_token"),a="https://api.spotify.com/v1";C.a.get("".concat(a,"/recommendations/available-genre-seeds"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("getSpotifyGenres() response: ",t.data.genres),e.recommendationsForm.requiredParams.genreOptions=t.data.genres})).catch((function(t){console.log("getSpotifyGenres() error caught: ",t),console.log("getSpotifyGenres() error message: ",t.message),e.setSnackbar("".concat(t.response.data.error.message,"..."),"red")}))}},recommenderTrackSearch:function(){var e=this;if(console.log("recommenderTrackSearch() executed"),this.spotifyLoggedIn){var t=localStorage.getItem("spotify_access_token"),a="https://api.spotify.com/v1",r=this.recommendationsForm.requiredParams.trackSearch;C.a.get("".concat(a,"/search?q=").concat(r,"&type=track&limit=50"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("recommenderTrackSearch() response: ",t.data.tracks.items),e.recommendationsForm.requiredParams.trackOptions=t.data.tracks.items})).catch((function(t){console.log("recommenderTrackSearch() error caught: ",t),console.log("recommenderTrackSearch() error message: ",t.message),e.setSnackbar("".concat(t.response.data.error.message,"..."),"red")}))}},recommenderArtistSearch:function(){var e=this;if(console.log("recommenderArtistSearch() executed"),this.spotifyLoggedIn){var t=localStorage.getItem("spotify_access_token"),a="https://api.spotify.com/v1",r=this.recommendationsForm.requiredParams.artistSearch;C.a.get("".concat(a,"/search?q=").concat(r,"&type=artist&limit=50"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("recommenderArtistSearch() response: ",t.data.artists.items),e.recommendationsForm.requiredParams.artistOptions=t.data.artists.items})).catch((function(t){console.log("recommenderArtistSearch() error caught: ",t),console.log("recommenderArtistSearch() error message: ",t.message),e.setSnackbar("".concat(t.response.data.error.message,"..."),"red")}))}},generateRecommendations:function(e){var t=this,a=e.optionalParams.sliderParams.filter((function(e){return!1!==e.enabled}));if(console.log("Enabled sliders: ",a),this.recommendationsRequired){console.log("Required params filled! Executing request...");var r=localStorage.getItem("spotify_access_token"),o="https://api.spotify.com/v1",s="?limit=".concat(e.optionalParams.limitSelected),n="&market=".concat(this.spotifyUserData.country),l="";e.requiredParams.seed_artists&&(l="&seed_artists=".concat(e.requiredParams.seed_artists));var i="";e.requiredParams.seed_genres&&(i="&seed_genres=".concat(e.requiredParams.seed_genres));var c="";e.requiredParams.seed_tracks&&(c="&seed_tracks=".concat(e.requiredParams.seed_tracks));var d="";if(a.forEach((function(e){return d+="&".concat(e.type,"_").concat(e.param,"=").concat(e.value)})),e.optionalParams.specialSliders[0].enabled){var m=e.optionalParams.specialSliders[0],u=m.type,p=this.timeDoctor(m.value);d+="&".concat(u,"_duration_ms=").concat(p)}console.log("Built URL: ".concat(o,"/recommendations").concat(s).concat(n).concat(l).concat(i).concat(c).concat(d)),C.a.get("".concat(o,"/recommendations").concat(s).concat(n).concat(l).concat(c).concat(i).concat(d),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){console.log("generateRecommendations() response: ",e.data),t.recommendationData.response=e.data.tracks,t.recommendationData.seeds=e.data.seeds,e.data.seeds.forEach((function(e){"ARTIST"===e.type&&C.a.get(e.href,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){console.log("Artist seed name:",e.data.name),t.recommendationData.artistSeed="".concat(e.data.name," [artist]")})).catch((function(e){console.log(e)})),"TRACK"===e.type&&C.a.get(e.href,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){console.log("Track seed name:",e.data.name,"by",e.data.artists[0].name),t.recommendationData.trackSeed="".concat(e.data.name," by ").concat(e.data.artists[0].name," [track]")})).catch((function(e){console.log(e)})),"GENRE"===e.type&&(t.recommendationData.genreSeed="".concat(e.id," [genre]"))})),t.recommendationData.response.forEach((function(e){e.isPlaying=!1})),0===t.recommendationData.response.length?t.setSnackbar("No recommendations found! üò¢","red"):t.setSnackbar("Recommendations found! üòÑ","green")})).catch((function(e){console.log("generateRecommendations() error caught: ",e),t.setSnackbar(e.response.data.error.message,"red")}))}else console.log("Required params not filled!"),this.setSnackbar("$You must pick one of the required parameters before we can generate any recommendations!","red")},timeDoctor:function(e){return 6e4*e},keyDoctor:function(e){switch(e){case 0:return"C";case 1:return"C#";case 2:return"D";case 3:return"D#";case 4:return"E";case 5:return"F";case 6:return"F#";case 7:return"G";case 8:return"G#";case 9:return"A";case 10:return"A#";case 11:return"B"}},percentageDoctor:function(e,t){var a=parseFloat(e),r=parseFloat(t);return Math.floor(a/r*100)},createRecommendationsPlaylist:function(){var e=this;console.log("Got these recommendations: ",this.recommendationData.response);var t=localStorage.getItem("spotify_access_token"),a="https://api.spotify.com/v1",r=this.recommendationData.artistSeed,o=this.recommendationData.trackSeed,s=this.recommendationData.genreSeed,n=[];r&&n.push(r),o&&n.push(o),s&&n.push(s),console.log("selectedSeedsArray: ",n);var l="";1===n.length?l+="1 seed used: ":l+="".concat(n.length," seeds used: "),n.forEach((function(e){return l+="".concat(e,", ")})),console.log("selectedSeedsString: ",l),Date.prototype.today=function(){return(this.getDate()<10?"0":"")+this.getDate()+"-"+(this.getMonth()+1<10?"0":"")+(this.getMonth()+1)+"-"+this.getFullYear()},Date.prototype.timeNow=function(){return(this.getHours()<10?"0":"")+this.getHours()+":"+(this.getMinutes()<10?"0":"")+this.getMinutes()+":"+(this.getSeconds()<10?"0":"")+this.getSeconds()};var i=new Date;console.log("Now: ",i.today(),"@",i.timeNow()),C.a.post("".concat(a,"/users/").concat(this.userID,"/playlists"),{name:"Audiohaven (".concat(i.today()," @ ").concat(i.timeNow(),")"),public:!1,collaborative:!1,description:"".concat(l.slice(0,-2))},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(r){console.log("createRecommendationsPlaylist() response: ",r.data),e.newPlaylistURL=r.data.external_urls.spotify,console.log("Adding recommendations to playlist...");var o=r.data.id,s="";e.recommendationData.response.forEach((function(e){return s+="".concat(e.uri,",")})),console.log("uriQueries: ",s),C.a.post("".concat(a,"/playlists/").concat(o,"/tracks?uris=").concat(s),{},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("Adding recommendations to new playlist response: ",t.data),e.setSnackbar("Your playlist was made! üòÑ","green")})).catch((function(o){console.log("Error caught adding to new playlist: ",o),console.log("Message: ",o.message),e.setSnackbar(o.response.data.error.message,"red"),console.log("Unfollowing empty playlist."),C.a.delete("".concat(a,"/playlists/").concat(r.id,"/followers"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log("Unfollowed empty playlist due to error! \n Response: ",e.data)})).catch((function(t){console.log("Error caught unfollowing empty playlist: ",t.response,"\n Message: ",t.response.data.error.message),e.setSnackbar(t.response.data.error.message,"red")}))}))})).catch((function(t){console.log("createRecommendationsPlaylist() error caught: ",t),console.log("createRecommendationsPlaylist() error message: ",t.message),e.setSnackbar(t.response.data.error.message,"red")}))},getRecentlyPlayed:function(){var e=this;if(this.spotifyLoggedIn&&this.recentlyPlayedSelected){var t=localStorage.getItem("spotify_access_token"),a="https://api.spotify.com/v1";C.a.get("".concat(a,"/me/player/recently-played?limit=50"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("getRecentlyPlayed() response: ",t.data),e.recentlyPlayedData.tracks=t.data.items})).catch((function(t){console.log("getRecentlyPlayed() error caught: ",t),console.log("getRecentlyPlayed() error message: ",t.message),e.setSnackbar(t.message,"red")}))}},getSavedTracks:function(){var e=this;if(this.spotifyLoggedIn&&this.savedTracksSelected){var t=localStorage.getItem("spotify_access_token"),a="https://api.spotify.com/v1";C.a.get("".concat(a,"/me/tracks?limit=50"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("getSavedTracks() response: ",t.data),e.savedTracksData.tracks=t.data.items})).catch((function(t){console.log("getSavedTracks() error caught: ",t),console.log("getSavedTracks() error message: ",t.message),e.setSnackbar(t.message,"red")}))}},getTopTracks:function(){var e=this;if(this.spotifyLoggedIn&&this.topTracksSelected){var t=localStorage.getItem("spotify_access_token"),a="https://api.spotify.com/v1";C.a.get("".concat(a,"/me/top/tracks?limit=50"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("getTopTracks() response: ",t.data),e.topTracksData.tracks=t.data.items})).catch((function(t){console.log("getTopTracks() error caught: ",t),console.log("getTopTracks() error message: ",t.message),e.setSnackbar(t.message,"red")}))}},getTopArtists:function(){var e=this;if(this.spotifyLoggedIn&&this.topArtistsSelected){var t=localStorage.getItem("spotify_access_token"),a="https://api.spotify.com/v1";C.a.get("".concat(a,"/me/top/artists?limit=50"),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("getTopArtists() response: ",t.data),e.topArtistsData.artists=t.data.items})).catch((function(t){console.log("getTopArtists() error caught: ",t),console.log("getTopArtists() error message: ",t.message),e.setSnackbar(t.message,"red")}))}}}},$=E,B=(a("ccd8"),Object(u["a"])($,q,R,!1,null,null,null)),O=B.exports;r["default"].use(x["a"]);var U=new x["a"]({mode:"history",base:"/Audiohaven/",routes:[{path:"/",name:"Home",component:M},{path:"/Spotify",name:"Spotify",component:O}]});r["default"].use(l["a"]);var z=new l["a"].Store({state:{loggedIn:!1,errors:{}},getters:{},mutations:{SET_LOGGED_IN_STATUS:function(e,t){e.loggedIn=t},SET_ERRORS:function(e,t){e.errors=t}},actions:{login:function(e,t){D.post("login",{username:t.username,email:t.email,password:t.password}).then((function(t){console.log(t.data),e.commit("SET_LOGGED_IN_STATUS",!0),localStorage.setItem("audiohaven_token",t.data.token)})).catch((function(t){console.log(t),e.commit("SET_ERRORS",t)}))},register:function(e,t){D.post("register",{username:t.username,email:t.email,password:t.password}).then((function(t){console.log("register() response: ".concat(t.data)),e.commit("SET_LOGGED_IN_STATUS",!0),localStorage.setItem("audiohaven_token",t.data.token)})).catch((function(t){console.log("register() error: ".concat(t)),e.commit("SET_ERRORS",t)}))},logout:function(e){localStorage.removeItem("audiohaven_token"),e.commit("SET_LOGGED_IN_STATUS",!1),localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_user_id")}}});function N(e){var t=e.$options.title;if(t)return"function"===typeof t?t.call(e):t}var G={created:function(){var e=N(this);e&&(document.title=e)}};r["default"].mixin(G),r["default"].config.productionTip=!1,new r["default"]({vuetify:w,router:U,store:z,render:function(e){return e(h)}}).$mount("#app")},"85ec":function(e,t,a){},"89f1":function(e,t,a){"use strict";a("fca2")},ccd8:function(e,t,a){"use strict";a("2057")},e3ab:function(e,t,a){e.exports=a.p+"img/Spotify_logo_with_text.c7ea4580.svg"},fca2:function(e,t,a){}}]);
//# sourceMappingURL=chunk-common.5d709e32.js.map